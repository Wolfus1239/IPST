<html>
    <head>
    </head>

    <body>
        <script>
            let array = []
            let count = 0
            let dl1 = Math.floor(Math.random() * 20)
            for (let i = 0; i < dl1; i++) {
            array.push(-100 + Math.floor(Math.random() * ((100 - (-100)))))
            }
            document.write(array)

            
            function quickSort(array){

                if (array.length <= 1){
                    return array
                }

                let pivotIndex = Math.floor(array.length / 2);
                let pivot = array[pivotIndex]

                let less = []
                let greater = []

                for(let i = 0; i < array.length; i++){

                    count += 1

                    if (i === pivotIndex){
                        continue
                    }

                    if(array[i] < pivot){
                        less.push(array[i])
                    }

                    else{
                        greater.push(array[i])
                    }
                }
                return [...quickSort(less), pivot, ...quickSort(greater)]
            }

            function binarySearch (array, item){
                let start = 0
                let end = array.length
                let mid
                let found = false
                let possition = -1
                let countSearch = 0

                while (found === false && start <= end){
                    countSearch += 1
                    mid = Math.floor((start + end)/2)

                    if(array[mid] === item) {
                        found = true
                        possition = mid
                        console.log(`количество шагов: ${countSearch}`)
                        return possition;
                    }

                    if (item < array[mid]){
                        end = mid - 1
                        console.log(`отрезал правую часть `)
                    }
                    
                    else {
                        start = mid + 1
                        console.log(`отрезал левую часть `)
                    }
                }
                return possition;
            }

            console.log(quickSort(array))
            console.log(count)
            binarySearch(quickSort(array))
        </script>
    </body>
</html>


